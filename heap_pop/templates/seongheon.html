<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script>
    function subbus(){
        clearDiv();
        const queryTp = "input[name='tp']:checked";
        const selectedTp = document.querySelectorAll(queryTp);
        const queryData = "input[name='data']:checked";
        const selectedData = document.querySelectorAll(queryData);
        for(const i of selectedTp){
            for(const j of selectedData){
                selbox(i.value,j.value);
            }
        }
    }
    function selbox(tp,data){

        switch(data){
            case 'gw':
                if(tp=='bus'){
                    var newImage = document.createElement("img");
                    var newHead = document.createElement("h2");
                    newImage.setAttribute("src","/static/images/data4.png");
                    newHead.innerHTML="버스 2019년 2020년 동월 대비 출근 인원 변화율(%)";
                    document.getElementById('imageList').appendChild(newHead);
                    document.getElementById('imageList').appendChild(newImage);
                }else{
                    var newImage = document.createElement("img");
                    var newHead = document.createElement("h2");
                    newImage.setAttribute("src","/static/images/data1.png");
                    newHead.innerHTML="지하철 2019년 2020년 동월 대비 출근 인원 변화율(%)";
                    document.getElementById('imageList').appendChild(newHead);
                    document.getElementById('imageList').appendChild(newImage);
                }
            break;
            case 'lw':
                if(tp=='bus'){
                    var newImage = document.createElement("img");
                    var newHead = document.createElement("h2");
                    newImage.setAttribute("src","/static/images/data5.png");
                    newHead.innerHTML="버스 2019년 2020년 동월 대비 퇴근 인원 변화율(%)";
                    document.getElementById('imageList').appendChild(newHead);
                    document.getElementById('imageList').appendChild(newImage);
                }else{
                    var newImage = document.createElement("img");
                    var newHead = document.createElement("h2");
                    newImage.setAttribute("src","/static/images/data2.png");
                    newHead.innerHTML="지하철 2019년 2020년 동월 대비 퇴근 인원 변화율(%)";
                    document.getElementById('imageList').appendChild(newHead);
                    document.getElementById('imageList').appendChild(newImage);
                }
            break;
            case 'total':
                if(tp=='bus'){
                    var newImage = document.createElement("img");
                    var newHead = document.createElement("h2");
                    newImage.setAttribute("src","/static/images/data6.png");
                    newHead.innerHTML="버스 2019년 2020년 동월 대비 총 이용객 수 변화율(%)";
                    document.getElementById('imageList').appendChild(newHead);
                    document.getElementById('imageList').appendChild(newImage);
                }else{
                    var newImage = document.createElement("img");
                    var newHead = document.createElement("h2");
                    newImage.setAttribute("src","/static/images/data3.png");
                    newHead.innerHTML="지하철 2019년 2020년 동월 대비 총 이용객 수 변화율(%)";
                    document.getElementById('imageList').appendChild(newHead);
                    document.getElementById('imageList').appendChild(newImage);
                }
            break;
        }


    }
    function clearDiv(){
        const imageNode = document.getElementById("imageList");
        while (imageNode.lastElementChild){
            imageNode.removeChild(imageNode.lastElementChild);
        }

    }
    function clearchk(){
        const clearTp = "input[name='tp']";
        const allTp = document.querySelectorAll(clearTp);
        const clearData= "input[name='data']";
        const allData = document.querySelectorAll(clearData);
        for(const i of allTp){
            i.checked='';
        }
        for(const j of allData){
            j.checked='';
        }
        clearDiv();
    }

</script>
<body>
    <h1>전년도 동월대비 이용객 변화율</h1>
        <p>
            대중교통
            <input type="checkbox" name="tp" value="bus">버스
            <input type="checkbox" name="tp" value="subway">지하철
        </p>
        <p>
            이용객 변화율
            <input type="checkbox" name="data" value="gw">출근
            <input type="checkbox" name="data" value="lw">퇴근
            <input type="checkbox" name="data" value="total">총 이용객
        </p>
        <p>
            <input type="button" value="선택" onclick="subbus()" >
            <input type="button" value="취소" onclick="clearchk()">
        </p>
        <div id="imageList">

        </div>

</body>
</html>
